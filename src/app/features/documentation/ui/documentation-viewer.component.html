<div class="documentation-container">
  <div class="documentation-header">
    <div class="header-content">
      <h1>
        <mat-icon>menu_book</mat-icon>
        Documentation
      </h1>
      <p>Browse the documentation using the tabs below.</p>
    </div>
    <div class="search-section">
      <mat-form-field appearance="outline">
        <mat-label>Search documentation</mat-label>
        <input matInput [(ngModel)]="searchQuery" (ngModelChange)="onSearchChange()" placeholder="Search...">
        <button *ngIf="searchQuery" matSuffix mat-icon-button aria-label="Clear" (click)="clearSearch()">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>
  </div>

  <div class="documentation-tabs-section">
    <mat-tab-group class="documentation-tabs" [(selectedIndex)]="selectedTabIndex" (selectedTabChange)="onTabChange($event)">
      @for (doc of allDocuments; track trackByItemId($index, doc); let i = $index) {
        <mat-tab [label]="doc.title">
          <div class="tab-content document-content">
            <div class="document-header">
              <h1>{{ doc.title }}</h1>
              <div class="document-description">{{ doc.description }}</div>
            </div>
            <div class="document-card">
              <app-markdown-renderer [markdownPath]="doc.path"></app-markdown-renderer>
            </div>
          </div>
        </mat-tab>
      }
    </mat-tab-group>
  </div>
</div>
