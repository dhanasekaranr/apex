<nav 
  class="breadcrumb-container" 
  [ngClass]="breadcrumbStyle !== 'default' ? 'breadcrumb-' + breadcrumbStyle : ''"
  aria-label="Breadcrumb navigation">
  <ol class="breadcrumb-list">
    @for (breadcrumb of breadcrumbs(); track breadcrumb.url; let last = $last) {
      <li 
        class="breadcrumb-item"
        [class.current]="isCurrentRoute(breadcrumb.url)">
        
        <!-- Clickable breadcrumb item (not current) -->
        @if (!isCurrentRoute(breadcrumb.url)) {
          <button 
            mat-button 
            class="breadcrumb-link"
            (click)="navigateTo(breadcrumb.url)"
            [attr.aria-label]="'Navigate to ' + breadcrumb.label">
            @if (breadcrumb.icon) {
              <mat-icon class="breadcrumb-icon">{{ breadcrumb.icon }}</mat-icon>
            }
            <span class="breadcrumb-label">{{ breadcrumb.label }}</span>
          </button>
        }
        
        <!-- Current page (non-clickable) -->
        @if (isCurrentRoute(breadcrumb.url)) {
          <span 
            class="breadcrumb-current"
            [attr.aria-current]="'page'">
            @if (breadcrumb.icon) {
              <mat-icon class="breadcrumb-icon">{{ breadcrumb.icon }}</mat-icon>
            }
            <span class="breadcrumb-label">{{ breadcrumb.label }}</span>
          </span>
        }
        
        <!-- Separator -->
        @if (!last) {
          <mat-icon 
            class="breadcrumb-separator"
            aria-hidden="true">
            chevron_right
          </mat-icon>
        }
      </li>
    }
  </ol>
</nav>
